"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/stock-data/route";
exports.ids = ["app/api/stock-data/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstock-data%2Froute&page=%2Fapi%2Fstock-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-data%2Froute.ts&appDir=%2FUsers%2Fsteffengottle%2FDesktop%2FApps%2FPivots%2Fdaerkle%2Fdaerkle-next%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsteffengottle%2FDesktop%2FApps%2FPivots%2Fdaerkle%2Fdaerkle-next&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstock-data%2Froute&page=%2Fapi%2Fstock-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-data%2Froute.ts&appDir=%2FUsers%2Fsteffengottle%2FDesktop%2FApps%2FPivots%2Fdaerkle%2Fdaerkle-next%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsteffengottle%2FDesktop%2FApps%2FPivots%2Fdaerkle%2Fdaerkle-next&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_steffengottle_Desktop_Apps_Pivots_daerkle_daerkle_next_app_api_stock_data_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/stock-data/route.ts */ \"(rsc)/./app/api/stock-data/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/stock-data/route\",\n        pathname: \"/api/stock-data\",\n        filename: \"route\",\n        bundlePath: \"app/api/stock-data/route\"\n    },\n    resolvedPagePath: \"/Users/steffengottle/Desktop/Apps/Pivots/daerkle/daerkle-next/app/api/stock-data/route.ts\",\n    nextConfigOutput,\n    userland: _Users_steffengottle_Desktop_Apps_Pivots_daerkle_daerkle_next_app_api_stock_data_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/stock-data/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdG9jay1kYXRhJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzdG9jay1kYXRhJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc3RvY2stZGF0YSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN0ZWZmZW5nb3R0bGUlMkZEZXNrdG9wJTJGQXBwcyUyRlBpdm90cyUyRmRhZXJrbGUlMkZkYWVya2xlLW5leHQlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGc3RlZmZlbmdvdHRsZSUyRkRlc2t0b3AlMkZBcHBzJTJGUGl2b3RzJTJGZGFlcmtsZSUyRmRhZXJrbGUtbmV4dCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN5QztBQUN0SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2RhZXJrbGUtbmV4dC8/ZjQ2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc3RlZmZlbmdvdHRsZS9EZXNrdG9wL0FwcHMvUGl2b3RzL2RhZXJrbGUvZGFlcmtsZS1uZXh0L2FwcC9hcGkvc3RvY2stZGF0YS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3RvY2stZGF0YS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3N0b2NrLWRhdGFcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3N0b2NrLWRhdGEvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvc3RlZmZlbmdvdHRsZS9EZXNrdG9wL0FwcHMvUGl2b3RzL2RhZXJrbGUvZGFlcmtsZS1uZXh0L2FwcC9hcGkvc3RvY2stZGF0YS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zdG9jay1kYXRhL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstock-data%2Froute&page=%2Fapi%2Fstock-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-data%2Froute.ts&appDir=%2FUsers%2Fsteffengottle%2FDesktop%2FApps%2FPivots%2Fdaerkle%2Fdaerkle-next%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsteffengottle%2FDesktop%2FApps%2FPivots%2Fdaerkle%2Fdaerkle-next&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/stock-data/route.ts":
/*!*************************************!*\
  !*** ./app/api/stock-data/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\n// Basis-Funktionen\nasync function fetchStockData(symbol) {\n    try {\n        const response = await fetch(`http://localhost:8000/api/stock-data?symbol=${symbol}&timeframe=1d`);\n        if (!response.ok) throw new Error(\"Failed to fetch stock data\");\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error(\"Error fetching stock data:\", error);\n        return null;\n    }\n}\nfunction calculatePivots(data) {\n    const high = data[data.length - 1].high;\n    const low = data[data.length - 1].low;\n    const close = data[data.length - 1].close;\n    const pp = (high + low + close) / 3;\n    const r1 = 2 * pp - low;\n    const r2 = pp + (high - low);\n    const r3 = high + 2 * (pp - low);\n    const s1 = 2 * pp - high;\n    const s2 = pp - (high - low);\n    const s3 = low - 2 * (high - pp);\n    return {\n        pp,\n        r1,\n        r2,\n        r3,\n        s1,\n        s2,\n        s3\n    };\n}\nfunction calculateBestTime(data, type) {\n    const hourlyStats = {};\n    for(let i = 1; i < data.length; i++){\n        const current = data[i];\n        const previous = data[i - 1];\n        const date = new Date(current.timestamp);\n        const hour = date.getHours().toString().padStart(2, \"0\");\n        const minute = Math.floor(date.getMinutes() / 15) * 15;\n        const timeKey = `${hour}:${minute.toString().padStart(2, \"0\")}`;\n        if (type === \"long\" && current.close > previous.close) {\n            hourlyStats[timeKey] = (hourlyStats[timeKey] || 0) + 1;\n        } else if (type === \"short\" && current.close < previous.close) {\n            hourlyStats[timeKey] = (hourlyStats[timeKey] || 0) + 1;\n        }\n    }\n    // Finde die erfolgreichste Zeit\n    let bestTime = \"09:30\";\n    let maxSuccess = 0;\n    for (const [time, success] of Object.entries(hourlyStats)){\n        if (success > maxSuccess) {\n            maxSuccess = success;\n            bestTime = time;\n        }\n    }\n    return bestTime;\n}\n// Analyse-Hilfsfunktionen bleiben gleich...\nfunction checkVolumeIncrease(data) {\n    const recentVolumes = data.slice(-5).map((d)=>d.volume);\n    return recentVolumes[recentVolumes.length - 1] > recentVolumes[recentVolumes.length - 2];\n}\nfunction checkReversalCandle(data) {\n    const lastCandle = data[data.length - 1];\n    const bodySize = Math.abs(lastCandle.close - lastCandle.open);\n    const upperWick = lastCandle.high - Math.max(lastCandle.open, lastCandle.close);\n    const lowerWick = Math.min(lastCandle.open, lastCandle.close) - lastCandle.low;\n    return lowerWick > bodySize * 2 || upperWick > bodySize * 2;\n}\nfunction detectCluster(pivots, price, tolerance) {\n    const allLevels = [\n        pivots[0].pp,\n        pivots[0].r1,\n        pivots[0].r2,\n        pivots[0].s1,\n        pivots[0].s2\n    ];\n    const nearbyLevels = allLevels.filter((level)=>Math.abs(price - level) <= tolerance);\n    return nearbyLevels.length >= 2;\n}\nfunction countTests(data, level, tolerance) {\n    let tests = 0;\n    for(let i = data.length - 10; i < data.length; i++){\n        if (Math.abs(data[i].high - level) <= tolerance || Math.abs(data[i].low - level) <= tolerance) {\n            tests++;\n        }\n    }\n    return tests;\n}\nfunction determineTrend(data, pp) {\n    const lastClose = data[data.length - 1].close;\n    const sma20 = data.slice(-20).reduce((sum, bar)=>sum + bar.close, 0) / 20;\n    if (lastClose > sma20 && lastClose > pp) return \"up\";\n    if (lastClose < sma20 && lastClose < pp) return \"down\";\n    return \"sideways\";\n}\nfunction calculateVolumeBuzz(data) {\n    const last20Days = data.slice(-21, -1);\n    const avgVolume = last20Days.reduce((sum, day)=>sum + day.volume, 0) / 20;\n    const currentVolume = data[data.length - 1].volume;\n    return currentVolume / avgVolume * 100 - 100;\n}\n// Setup-Erkennungsfunktionen\nfunction findLongSetups(data, pivots, timeframe) {\n    const setups = [];\n    const price = data[data.length - 1].close;\n    const tolerance = price * 0.005;\n    // Support-Levels testen\n    const supportLevels = [\n        {\n            level: pivots.s1,\n            name: \"S1\"\n        },\n        {\n            level: pivots.s2,\n            name: \"S2\"\n        },\n        {\n            level: pivots.s3,\n            name: \"S3\"\n        }\n    ];\n    for (const { level, name } of supportLevels){\n        if (Math.abs(data[data.length - 1].low - level) <= tolerance) {\n            const hasVolume = checkVolumeIncrease(data);\n            const hasReversal = checkReversalCandle(data);\n            const cluster = detectCluster([\n                pivots\n            ], price, tolerance);\n            const tests = countTests(data, level, tolerance);\n            const trend = determineTrend(data, pivots.pp);\n            const volumeBuzz = calculateVolumeBuzz(data);\n            if (hasVolume && hasReversal) {\n                const setup = {\n                    type: \"long\",\n                    subType: \"pivot_bounce\",\n                    timeframe,\n                    entry: price,\n                    stopLoss: Math.min(level * 0.99, data[data.length - 1].low * 0.99),\n                    target: pivots.pp,\n                    probability: tests >= 2 ? 65 : 55,\n                    rr: (pivots.pp - price) / (price - level * 0.99),\n                    volumeBuzz,\n                    quality: cluster && tests >= 2 ? \"A+\" : hasVolume ? \"A\" : \"B\",\n                    pivotLevel: name,\n                    reason: `Bounce from ${name}`,\n                    bestTime: calculateBestTime(data, \"long\"),\n                    cluster,\n                    divergence: false,\n                    repeatedTests: tests,\n                    additionalTargets: [\n                        pivots.r1\n                    ],\n                    trendDirection: trend,\n                    confirmations: {\n                        volume: hasVolume,\n                        reversal: hasReversal,\n                        trend: trend === \"up\",\n                        cluster,\n                        multipleTests: tests >= 2\n                    }\n                };\n                setups.push(setup);\n            }\n        }\n    }\n    return setups;\n}\nfunction findShortSetups(data, pivots, timeframe) {\n    const setups = [];\n    const price = data[data.length - 1].close;\n    const tolerance = price * 0.005;\n    // Resistance-Levels testen\n    const resistanceLevels = [\n        {\n            level: pivots.r1,\n            name: \"R1\"\n        },\n        {\n            level: pivots.r2,\n            name: \"R2\"\n        },\n        {\n            level: pivots.r3,\n            name: \"R3\"\n        }\n    ];\n    for (const { level, name } of resistanceLevels){\n        if (Math.abs(data[data.length - 1].high - level) <= tolerance) {\n            const hasVolume = checkVolumeIncrease(data);\n            const hasReversal = checkReversalCandle(data);\n            const cluster = detectCluster([\n                pivots\n            ], price, tolerance);\n            const tests = countTests(data, level, tolerance);\n            const trend = determineTrend(data, pivots.pp);\n            const volumeBuzz = calculateVolumeBuzz(data);\n            if (hasVolume && hasReversal) {\n                const setup = {\n                    type: \"short\",\n                    subType: \"resistance_rejection\",\n                    timeframe,\n                    entry: price,\n                    stopLoss: Math.max(level * 1.01, data[data.length - 1].high * 1.01),\n                    target: pivots.pp,\n                    probability: tests >= 2 ? 65 : 55,\n                    rr: (price - pivots.pp) / (level * 1.01 - price),\n                    volumeBuzz,\n                    quality: cluster && tests >= 2 ? \"A+\" : hasVolume ? \"A\" : \"B\",\n                    pivotLevel: name,\n                    reason: `Rejection at ${name}`,\n                    bestTime: calculateBestTime(data, \"short\"),\n                    cluster,\n                    divergence: false,\n                    repeatedTests: tests,\n                    additionalTargets: [\n                        pivots.s1\n                    ],\n                    trendDirection: trend,\n                    confirmations: {\n                        volume: hasVolume,\n                        reversal: hasReversal,\n                        trend: trend === \"down\",\n                        cluster,\n                        multipleTests: tests >= 2\n                    }\n                };\n                setups.push(setup);\n            }\n        }\n    }\n    return setups;\n}\nasync function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const symbol = searchParams.get(\"symbol\");\n    const timeframe = searchParams.get(\"timeframe\") || \"1d\";\n    if (!symbol) {\n        return new Response(\"Symbol parameter is required\", {\n            status: 400\n        });\n    }\n    try {\n        const data = await fetchStockData(symbol);\n        if (!data) {\n            return new Response(\"Failed to fetch stock data\", {\n                status: 500\n            });\n        }\n        const lastBar = data[data.length - 1];\n        const pivots = calculatePivots(data);\n        const volumeBuzz = calculateVolumeBuzz(data);\n        const trend = determineTrend(data, pivots.pp);\n        const longSetups = findLongSetups(data, pivots, timeframe);\n        const shortSetups = findShortSetups(data, pivots, timeframe);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            symbol,\n            price: lastBar.close,\n            change: (lastBar.close - data[data.length - 2].close) / data[data.length - 2].close * 100,\n            volume: lastBar.volume,\n            volumeBuzz,\n            pivots,\n            trend,\n            setups: [\n                ...longSetups,\n                ...shortSetups\n            ],\n            hasReversal: checkReversalCandle(data),\n            volumeIncreasing: checkVolumeIncrease(data)\n        });\n    } catch (error) {\n        console.error(\"Error in stock-data route:\", error);\n        return new Response(\"Internal server error\", {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxLQUFLLEdBQUk7WUFDeEZxQyxRQUFRcUUsUUFBUXJFLE1BQU07WUFDdEJ3QztZQUNBN0I7WUFDQTRCO1lBQ0FOLFFBQVE7bUJBQUlxQzttQkFBZUM7YUFBWTtZQUN2Q2xDLGFBQWFwQyxvQkFBb0I5QztZQUNqQ3NILGtCQUFrQjlFLG9CQUFvQnhDO1FBQ3hDO0lBQ0YsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU8sSUFBSThHLFNBQVMseUJBQXlCO1lBQUVDLFFBQVE7UUFBSTtJQUM3RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFlcmtsZS1uZXh0Ly4vYXBwL2FwaS9zdG9jay1kYXRhL3JvdXRlLnRzPzA4ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgUGl2b3RMZXZlbHMsIFNldHVwQW5hbHlzaXMgfSBmcm9tICdAL3R5cGVzL3NldHVwJztcblxuaW50ZXJmYWNlIEhpc3RvcmljYWxEYXRhIHtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIG9wZW46IG51bWJlcjtcbiAgaGlnaDogbnVtYmVyO1xuICBsb3c6IG51bWJlcjtcbiAgY2xvc2U6IG51bWJlcjtcbiAgdm9sdW1lOiBudW1iZXI7XG59XG5cbi8vIEJhc2lzLUZ1bmt0aW9uZW5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoU3RvY2tEYXRhKHN5bWJvbDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS9zdG9jay1kYXRhP3N5bWJvbD0ke3N5bWJvbH0mdGltZWZyYW1lPTFkYCk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc3RvY2sgZGF0YScpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3RvY2sgZGF0YTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlUGl2b3RzKGRhdGE6IEhpc3RvcmljYWxEYXRhW10pOiBQaXZvdExldmVscyB7XG4gIGNvbnN0IGhpZ2ggPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV0uaGlnaDtcbiAgY29uc3QgbG93ID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdLmxvdztcbiAgY29uc3QgY2xvc2UgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV0uY2xvc2U7XG5cbiAgY29uc3QgcHAgPSAoaGlnaCArIGxvdyArIGNsb3NlKSAvIDM7XG4gIGNvbnN0IHIxID0gKDIgKiBwcCkgLSBsb3c7XG4gIGNvbnN0IHIyID0gcHAgKyAoaGlnaCAtIGxvdyk7XG4gIGNvbnN0IHIzID0gaGlnaCArIDIgKiAocHAgLSBsb3cpO1xuICBjb25zdCBzMSA9ICgyICogcHApIC0gaGlnaDtcbiAgY29uc3QgczIgPSBwcCAtIChoaWdoIC0gbG93KTtcbiAgY29uc3QgczMgPSBsb3cgLSAyICogKGhpZ2ggLSBwcCk7XG5cbiAgcmV0dXJuIHsgcHAsIHIxLCByMiwgcjMsIHMxLCBzMiwgczMgfTtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlQmVzdFRpbWUoZGF0YTogSGlzdG9yaWNhbERhdGFbXSwgdHlwZTogJ2xvbmcnIHwgJ3Nob3J0Jyk6IHN0cmluZyB7XG4gIGNvbnN0IGhvdXJseVN0YXRzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge307XG4gIFxuICBmb3IgKGxldCBpID0gMTsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjdXJyZW50ID0gZGF0YVtpXTtcbiAgICBjb25zdCBwcmV2aW91cyA9IGRhdGFbaSAtIDFdO1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjdXJyZW50LnRpbWVzdGFtcCk7XG4gICAgY29uc3QgaG91ciA9IGRhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgY29uc3QgbWludXRlID0gTWF0aC5mbG9vcihkYXRlLmdldE1pbnV0ZXMoKSAvIDE1KSAqIDE1O1xuICAgIGNvbnN0IHRpbWVLZXkgPSBgJHtob3VyfToke21pbnV0ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcblxuICAgIGlmICh0eXBlID09PSAnbG9uZycgJiYgY3VycmVudC5jbG9zZSA+IHByZXZpb3VzLmNsb3NlKSB7XG4gICAgICBob3VybHlTdGF0c1t0aW1lS2V5XSA9IChob3VybHlTdGF0c1t0aW1lS2V5XSB8fCAwKSArIDE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnc2hvcnQnICYmIGN1cnJlbnQuY2xvc2UgPCBwcmV2aW91cy5jbG9zZSkge1xuICAgICAgaG91cmx5U3RhdHNbdGltZUtleV0gPSAoaG91cmx5U3RhdHNbdGltZUtleV0gfHwgMCkgKyAxO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmRlIGRpZSBlcmZvbGdyZWljaHN0ZSBaZWl0XG4gIGxldCBiZXN0VGltZSA9ICcwOTozMCc7XG4gIGxldCBtYXhTdWNjZXNzID0gMDtcbiAgXG4gIGZvciAoY29uc3QgW3RpbWUsIHN1Y2Nlc3NdIG9mIE9iamVjdC5lbnRyaWVzKGhvdXJseVN0YXRzKSkge1xuICAgIGlmIChzdWNjZXNzID4gbWF4U3VjY2Vzcykge1xuICAgICAgbWF4U3VjY2VzcyA9IHN1Y2Nlc3M7XG4gICAgICBiZXN0VGltZSA9IHRpbWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJlc3RUaW1lO1xufVxuXG4vLyBBbmFseXNlLUhpbGZzZnVua3Rpb25lbiBibGVpYmVuIGdsZWljaC4uLlxuZnVuY3Rpb24gY2hlY2tWb2x1bWVJbmNyZWFzZShkYXRhOiBIaXN0b3JpY2FsRGF0YVtdKTogYm9vbGVhbiB7XG4gIGNvbnN0IHJlY2VudFZvbHVtZXMgPSBkYXRhLnNsaWNlKC01KS5tYXAoZCA9PiBkLnZvbHVtZSk7XG4gIHJldHVybiByZWNlbnRWb2x1bWVzW3JlY2VudFZvbHVtZXMubGVuZ3RoIC0gMV0gPiByZWNlbnRWb2x1bWVzW3JlY2VudFZvbHVtZXMubGVuZ3RoIC0gMl07XG59XG5cbmZ1bmN0aW9uIGNoZWNrUmV2ZXJzYWxDYW5kbGUoZGF0YTogSGlzdG9yaWNhbERhdGFbXSk6IGJvb2xlYW4ge1xuICBjb25zdCBsYXN0Q2FuZGxlID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuICBjb25zdCBib2R5U2l6ZSA9IE1hdGguYWJzKGxhc3RDYW5kbGUuY2xvc2UgLSBsYXN0Q2FuZGxlLm9wZW4pO1xuICBjb25zdCB1cHBlcldpY2sgPSBsYXN0Q2FuZGxlLmhpZ2ggLSBNYXRoLm1heChsYXN0Q2FuZGxlLm9wZW4sIGxhc3RDYW5kbGUuY2xvc2UpO1xuICBjb25zdCBsb3dlcldpY2sgPSBNYXRoLm1pbihsYXN0Q2FuZGxlLm9wZW4sIGxhc3RDYW5kbGUuY2xvc2UpIC0gbGFzdENhbmRsZS5sb3c7XG4gIFxuICByZXR1cm4gKGxvd2VyV2ljayA+IGJvZHlTaXplICogMikgfHwgKHVwcGVyV2ljayA+IGJvZHlTaXplICogMik7XG59XG5cbmZ1bmN0aW9uIGRldGVjdENsdXN0ZXIocGl2b3RzOiBQaXZvdExldmVsc1tdLCBwcmljZTogbnVtYmVyLCB0b2xlcmFuY2U6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBhbGxMZXZlbHMgPSBbXG4gICAgcGl2b3RzWzBdLnBwLCBcbiAgICBwaXZvdHNbMF0ucjEsIFxuICAgIHBpdm90c1swXS5yMiwgXG4gICAgcGl2b3RzWzBdLnMxLCBcbiAgICBwaXZvdHNbMF0uczJcbiAgXTtcbiAgY29uc3QgbmVhcmJ5TGV2ZWxzID0gYWxsTGV2ZWxzLmZpbHRlcihsZXZlbCA9PiBNYXRoLmFicyhwcmljZSAtIGxldmVsKSA8PSB0b2xlcmFuY2UpO1xuICByZXR1cm4gbmVhcmJ5TGV2ZWxzLmxlbmd0aCA+PSAyO1xufVxuXG5mdW5jdGlvbiBjb3VudFRlc3RzKGRhdGE6IEhpc3RvcmljYWxEYXRhW10sIGxldmVsOiBudW1iZXIsIHRvbGVyYW5jZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgbGV0IHRlc3RzID0gMDtcbiAgZm9yIChsZXQgaSA9IGRhdGEubGVuZ3RoIC0gMTA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKE1hdGguYWJzKGRhdGFbaV0uaGlnaCAtIGxldmVsKSA8PSB0b2xlcmFuY2UgfHwgTWF0aC5hYnMoZGF0YVtpXS5sb3cgLSBsZXZlbCkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICB0ZXN0cysrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGVzdHM7XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZVRyZW5kKGRhdGE6IEhpc3RvcmljYWxEYXRhW10sIHBwOiBudW1iZXIpOiAndXAnIHwgJ2Rvd24nIHwgJ3NpZGV3YXlzJyB7XG4gIGNvbnN0IGxhc3RDbG9zZSA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXS5jbG9zZTtcbiAgY29uc3Qgc21hMjAgPSBkYXRhLnNsaWNlKC0yMCkucmVkdWNlKChzdW0sIGJhcikgPT4gc3VtICsgYmFyLmNsb3NlLCAwKSAvIDIwO1xuICBcbiAgaWYgKGxhc3RDbG9zZSA+IHNtYTIwICYmIGxhc3RDbG9zZSA+IHBwKSByZXR1cm4gJ3VwJztcbiAgaWYgKGxhc3RDbG9zZSA8IHNtYTIwICYmIGxhc3RDbG9zZSA8IHBwKSByZXR1cm4gJ2Rvd24nO1xuICByZXR1cm4gJ3NpZGV3YXlzJztcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlVm9sdW1lQnV6eihkYXRhOiBIaXN0b3JpY2FsRGF0YVtdKTogbnVtYmVyIHtcbiAgY29uc3QgbGFzdDIwRGF5cyA9IGRhdGEuc2xpY2UoLTIxLCAtMSk7XG4gIGNvbnN0IGF2Z1ZvbHVtZSA9IGxhc3QyMERheXMucmVkdWNlKChzdW0sIGRheSkgPT4gc3VtICsgZGF5LnZvbHVtZSwgMCkgLyAyMDtcbiAgY29uc3QgY3VycmVudFZvbHVtZSA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXS52b2x1bWU7XG4gIHJldHVybiAoKGN1cnJlbnRWb2x1bWUgLyBhdmdWb2x1bWUpICogMTAwKSAtIDEwMDtcbn1cblxuLy8gU2V0dXAtRXJrZW5udW5nc2Z1bmt0aW9uZW5cbmZ1bmN0aW9uIGZpbmRMb25nU2V0dXBzKFxuICBkYXRhOiBIaXN0b3JpY2FsRGF0YVtdLFxuICBwaXZvdHM6IFBpdm90TGV2ZWxzLFxuICB0aW1lZnJhbWU6IHN0cmluZ1xuKTogU2V0dXBBbmFseXNpc1tdIHtcbiAgY29uc3Qgc2V0dXBzOiBTZXR1cEFuYWx5c2lzW10gPSBbXTtcbiAgY29uc3QgcHJpY2UgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV0uY2xvc2U7XG4gIGNvbnN0IHRvbGVyYW5jZSA9IHByaWNlICogMC4wMDU7XG5cbiAgLy8gU3VwcG9ydC1MZXZlbHMgdGVzdGVuXG4gIGNvbnN0IHN1cHBvcnRMZXZlbHMgPSBbXG4gICAgeyBsZXZlbDogcGl2b3RzLnMxLCBuYW1lOiAnUzEnIH0sXG4gICAgeyBsZXZlbDogcGl2b3RzLnMyLCBuYW1lOiAnUzInIH0sXG4gICAgeyBsZXZlbDogcGl2b3RzLnMzLCBuYW1lOiAnUzMnIH1cbiAgXTtcblxuICBmb3IgKGNvbnN0IHsgbGV2ZWwsIG5hbWUgfSBvZiBzdXBwb3J0TGV2ZWxzKSB7XG4gICAgaWYgKE1hdGguYWJzKGRhdGFbZGF0YS5sZW5ndGggLSAxXS5sb3cgLSBsZXZlbCkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICBjb25zdCBoYXNWb2x1bWUgPSBjaGVja1ZvbHVtZUluY3JlYXNlKGRhdGEpO1xuICAgICAgY29uc3QgaGFzUmV2ZXJzYWwgPSBjaGVja1JldmVyc2FsQ2FuZGxlKGRhdGEpO1xuICAgICAgY29uc3QgY2x1c3RlciA9IGRldGVjdENsdXN0ZXIoW3Bpdm90c10sIHByaWNlLCB0b2xlcmFuY2UpO1xuICAgICAgY29uc3QgdGVzdHMgPSBjb3VudFRlc3RzKGRhdGEsIGxldmVsLCB0b2xlcmFuY2UpO1xuICAgICAgY29uc3QgdHJlbmQgPSBkZXRlcm1pbmVUcmVuZChkYXRhLCBwaXZvdHMucHApO1xuICAgICAgY29uc3Qgdm9sdW1lQnV6eiA9IGNhbGN1bGF0ZVZvbHVtZUJ1enooZGF0YSk7XG5cbiAgICAgIGlmIChoYXNWb2x1bWUgJiYgaGFzUmV2ZXJzYWwpIHtcbiAgICAgICAgY29uc3Qgc2V0dXA6IFNldHVwQW5hbHlzaXMgPSB7XG4gICAgICAgICAgdHlwZTogJ2xvbmcnLFxuICAgICAgICAgIHN1YlR5cGU6ICdwaXZvdF9ib3VuY2UnLFxuICAgICAgICAgIHRpbWVmcmFtZSxcbiAgICAgICAgICBlbnRyeTogcHJpY2UsXG4gICAgICAgICAgc3RvcExvc3M6IE1hdGgubWluKGxldmVsICogMC45OSwgZGF0YVtkYXRhLmxlbmd0aCAtIDFdLmxvdyAqIDAuOTkpLFxuICAgICAgICAgIHRhcmdldDogcGl2b3RzLnBwLFxuICAgICAgICAgIHByb2JhYmlsaXR5OiB0ZXN0cyA+PSAyID8gNjUgOiA1NSxcbiAgICAgICAgICBycjogKHBpdm90cy5wcCAtIHByaWNlKSAvIChwcmljZSAtIChsZXZlbCAqIDAuOTkpKSxcbiAgICAgICAgICB2b2x1bWVCdXp6LFxuICAgICAgICAgIHF1YWxpdHk6IGNsdXN0ZXIgJiYgdGVzdHMgPj0gMiA/ICdBKycgOiBoYXNWb2x1bWUgPyAnQScgOiAnQicsXG4gICAgICAgICAgcGl2b3RMZXZlbDogbmFtZSxcbiAgICAgICAgICByZWFzb246IGBCb3VuY2UgZnJvbSAke25hbWV9YCxcbiAgICAgICAgICBiZXN0VGltZTogY2FsY3VsYXRlQmVzdFRpbWUoZGF0YSwgJ2xvbmcnKSxcbiAgICAgICAgICBjbHVzdGVyLFxuICAgICAgICAgIGRpdmVyZ2VuY2U6IGZhbHNlLFxuICAgICAgICAgIHJlcGVhdGVkVGVzdHM6IHRlc3RzLFxuICAgICAgICAgIGFkZGl0aW9uYWxUYXJnZXRzOiBbcGl2b3RzLnIxXSxcbiAgICAgICAgICB0cmVuZERpcmVjdGlvbjogdHJlbmQsXG4gICAgICAgICAgY29uZmlybWF0aW9uczoge1xuICAgICAgICAgICAgdm9sdW1lOiBoYXNWb2x1bWUsXG4gICAgICAgICAgICByZXZlcnNhbDogaGFzUmV2ZXJzYWwsXG4gICAgICAgICAgICB0cmVuZDogdHJlbmQgPT09ICd1cCcsXG4gICAgICAgICAgICBjbHVzdGVyLFxuICAgICAgICAgICAgbXVsdGlwbGVUZXN0czogdGVzdHMgPj0gMlxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZXR1cHMucHVzaChzZXR1cCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNldHVwcztcbn1cblxuZnVuY3Rpb24gZmluZFNob3J0U2V0dXBzKFxuICBkYXRhOiBIaXN0b3JpY2FsRGF0YVtdLFxuICBwaXZvdHM6IFBpdm90TGV2ZWxzLFxuICB0aW1lZnJhbWU6IHN0cmluZ1xuKTogU2V0dXBBbmFseXNpc1tdIHtcbiAgY29uc3Qgc2V0dXBzOiBTZXR1cEFuYWx5c2lzW10gPSBbXTtcbiAgY29uc3QgcHJpY2UgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV0uY2xvc2U7XG4gIGNvbnN0IHRvbGVyYW5jZSA9IHByaWNlICogMC4wMDU7XG5cbiAgLy8gUmVzaXN0YW5jZS1MZXZlbHMgdGVzdGVuXG4gIGNvbnN0IHJlc2lzdGFuY2VMZXZlbHMgPSBbXG4gICAgeyBsZXZlbDogcGl2b3RzLnIxLCBuYW1lOiAnUjEnIH0sXG4gICAgeyBsZXZlbDogcGl2b3RzLnIyLCBuYW1lOiAnUjInIH0sXG4gICAgeyBsZXZlbDogcGl2b3RzLnIzLCBuYW1lOiAnUjMnIH1cbiAgXTtcblxuICBmb3IgKGNvbnN0IHsgbGV2ZWwsIG5hbWUgfSBvZiByZXNpc3RhbmNlTGV2ZWxzKSB7XG4gICAgaWYgKE1hdGguYWJzKGRhdGFbZGF0YS5sZW5ndGggLSAxXS5oaWdoIC0gbGV2ZWwpIDw9IHRvbGVyYW5jZSkge1xuICAgICAgY29uc3QgaGFzVm9sdW1lID0gY2hlY2tWb2x1bWVJbmNyZWFzZShkYXRhKTtcbiAgICAgIGNvbnN0IGhhc1JldmVyc2FsID0gY2hlY2tSZXZlcnNhbENhbmRsZShkYXRhKTtcbiAgICAgIGNvbnN0IGNsdXN0ZXIgPSBkZXRlY3RDbHVzdGVyKFtwaXZvdHNdLCBwcmljZSwgdG9sZXJhbmNlKTtcbiAgICAgIGNvbnN0IHRlc3RzID0gY291bnRUZXN0cyhkYXRhLCBsZXZlbCwgdG9sZXJhbmNlKTtcbiAgICAgIGNvbnN0IHRyZW5kID0gZGV0ZXJtaW5lVHJlbmQoZGF0YSwgcGl2b3RzLnBwKTtcbiAgICAgIGNvbnN0IHZvbHVtZUJ1enogPSBjYWxjdWxhdGVWb2x1bWVCdXp6KGRhdGEpO1xuXG4gICAgICBpZiAoaGFzVm9sdW1lICYmIGhhc1JldmVyc2FsKSB7XG4gICAgICAgIGNvbnN0IHNldHVwOiBTZXR1cEFuYWx5c2lzID0ge1xuICAgICAgICAgIHR5cGU6ICdzaG9ydCcsXG4gICAgICAgICAgc3ViVHlwZTogJ3Jlc2lzdGFuY2VfcmVqZWN0aW9uJyxcbiAgICAgICAgICB0aW1lZnJhbWUsXG4gICAgICAgICAgZW50cnk6IHByaWNlLFxuICAgICAgICAgIHN0b3BMb3NzOiBNYXRoLm1heChsZXZlbCAqIDEuMDEsIGRhdGFbZGF0YS5sZW5ndGggLSAxXS5oaWdoICogMS4wMSksXG4gICAgICAgICAgdGFyZ2V0OiBwaXZvdHMucHAsXG4gICAgICAgICAgcHJvYmFiaWxpdHk6IHRlc3RzID49IDIgPyA2NSA6IDU1LFxuICAgICAgICAgIHJyOiAocHJpY2UgLSBwaXZvdHMucHApIC8gKChsZXZlbCAqIDEuMDEpIC0gcHJpY2UpLFxuICAgICAgICAgIHZvbHVtZUJ1enosXG4gICAgICAgICAgcXVhbGl0eTogY2x1c3RlciAmJiB0ZXN0cyA+PSAyID8gJ0ErJyA6IGhhc1ZvbHVtZSA/ICdBJyA6ICdCJyxcbiAgICAgICAgICBwaXZvdExldmVsOiBuYW1lLFxuICAgICAgICAgIHJlYXNvbjogYFJlamVjdGlvbiBhdCAke25hbWV9YCxcbiAgICAgICAgICBiZXN0VGltZTogY2FsY3VsYXRlQmVzdFRpbWUoZGF0YSwgJ3Nob3J0JyksXG4gICAgICAgICAgY2x1c3RlcixcbiAgICAgICAgICBkaXZlcmdlbmNlOiBmYWxzZSxcbiAgICAgICAgICByZXBlYXRlZFRlc3RzOiB0ZXN0cyxcbiAgICAgICAgICBhZGRpdGlvbmFsVGFyZ2V0czogW3Bpdm90cy5zMV0sXG4gICAgICAgICAgdHJlbmREaXJlY3Rpb246IHRyZW5kLFxuICAgICAgICAgIGNvbmZpcm1hdGlvbnM6IHtcbiAgICAgICAgICAgIHZvbHVtZTogaGFzVm9sdW1lLFxuICAgICAgICAgICAgcmV2ZXJzYWw6IGhhc1JldmVyc2FsLFxuICAgICAgICAgICAgdHJlbmQ6IHRyZW5kID09PSAnZG93bicsXG4gICAgICAgICAgICBjbHVzdGVyLFxuICAgICAgICAgICAgbXVsdGlwbGVUZXN0czogdGVzdHMgPj0gMlxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZXR1cHMucHVzaChzZXR1cCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNldHVwcztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgY29uc3Qgc3ltYm9sID0gc2VhcmNoUGFyYW1zLmdldCgnc3ltYm9sJyk7XG4gIGNvbnN0IHRpbWVmcmFtZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3RpbWVmcmFtZScpIHx8ICcxZCc7XG5cbiAgaWYgKCFzeW1ib2wpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKCdTeW1ib2wgcGFyYW1ldGVyIGlzIHJlcXVpcmVkJywgeyBzdGF0dXM6IDQwMCB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGZldGNoU3RvY2tEYXRhKHN5bWJvbCk7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKCdGYWlsZWQgdG8gZmV0Y2ggc3RvY2sgZGF0YScsIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbGFzdEJhciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBwaXZvdHMgPSBjYWxjdWxhdGVQaXZvdHMoZGF0YSk7XG4gICAgY29uc3Qgdm9sdW1lQnV6eiA9IGNhbGN1bGF0ZVZvbHVtZUJ1enooZGF0YSk7XG4gICAgY29uc3QgdHJlbmQgPSBkZXRlcm1pbmVUcmVuZChkYXRhLCBwaXZvdHMucHApO1xuICAgIGNvbnN0IGxvbmdTZXR1cHMgPSBmaW5kTG9uZ1NldHVwcyhkYXRhLCBwaXZvdHMsIHRpbWVmcmFtZSk7XG4gICAgY29uc3Qgc2hvcnRTZXR1cHMgPSBmaW5kU2hvcnRTZXR1cHMoZGF0YSwgcGl2b3RzLCB0aW1lZnJhbWUpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN5bWJvbCxcbiAgICAgIHByaWNlOiBsYXN0QmFyLmNsb3NlLFxuICAgICAgY2hhbmdlOiAoKGxhc3RCYXIuY2xvc2UgLSBkYXRhW2RhdGEubGVuZ3RoIC0gMl0uY2xvc2UpIC8gZGF0YVtkYXRhLmxlbmd0aCAtIDJdLmNsb3NlKSAqIDEwMCxcbiAgICAgIHZvbHVtZTogbGFzdEJhci52b2x1bWUsXG4gICAgICB2b2x1bWVCdXp6LFxuICAgICAgcGl2b3RzLFxuICAgICAgdHJlbmQsXG4gICAgICBzZXR1cHM6IFsuLi5sb25nU2V0dXBzLCAuLi5zaG9ydFNldHVwc10sXG4gICAgICBoYXNSZXZlcnNhbDogY2hlY2tSZXZlcnNhbENhbmRsZShkYXRhKSxcbiAgICAgIHZvbHVtZUluY3JlYXNpbmc6IGNoZWNrVm9sdW1lSW5jcmVhc2UoZGF0YSlcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzdG9jay1kYXRhIHJvdXRlOicsIGVycm9yKTtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKCdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZmV0Y2hTdG9ja0RhdGEiLCJzeW1ib2wiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsImRhdGEiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwiY2FsY3VsYXRlUGl2b3RzIiwiaGlnaCIsImxlbmd0aCIsImxvdyIsImNsb3NlIiwicHAiLCJyMSIsInIyIiwicjMiLCJzMSIsInMyIiwiczMiLCJjYWxjdWxhdGVCZXN0VGltZSIsInR5cGUiLCJob3VybHlTdGF0cyIsImkiLCJjdXJyZW50IiwicHJldmlvdXMiLCJkYXRlIiwiRGF0ZSIsInRpbWVzdGFtcCIsImhvdXIiLCJnZXRIb3VycyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJtaW51dGUiLCJNYXRoIiwiZmxvb3IiLCJnZXRNaW51dGVzIiwidGltZUtleSIsImJlc3RUaW1lIiwibWF4U3VjY2VzcyIsInRpbWUiLCJzdWNjZXNzIiwiT2JqZWN0IiwiZW50cmllcyIsImNoZWNrVm9sdW1lSW5jcmVhc2UiLCJyZWNlbnRWb2x1bWVzIiwic2xpY2UiLCJtYXAiLCJkIiwidm9sdW1lIiwiY2hlY2tSZXZlcnNhbENhbmRsZSIsImxhc3RDYW5kbGUiLCJib2R5U2l6ZSIsImFicyIsIm9wZW4iLCJ1cHBlcldpY2siLCJtYXgiLCJsb3dlcldpY2siLCJtaW4iLCJkZXRlY3RDbHVzdGVyIiwicGl2b3RzIiwicHJpY2UiLCJ0b2xlcmFuY2UiLCJhbGxMZXZlbHMiLCJuZWFyYnlMZXZlbHMiLCJmaWx0ZXIiLCJsZXZlbCIsImNvdW50VGVzdHMiLCJ0ZXN0cyIsImRldGVybWluZVRyZW5kIiwibGFzdENsb3NlIiwic21hMjAiLCJyZWR1Y2UiLCJzdW0iLCJiYXIiLCJjYWxjdWxhdGVWb2x1bWVCdXp6IiwibGFzdDIwRGF5cyIsImF2Z1ZvbHVtZSIsImRheSIsImN1cnJlbnRWb2x1bWUiLCJmaW5kTG9uZ1NldHVwcyIsInRpbWVmcmFtZSIsInNldHVwcyIsInN1cHBvcnRMZXZlbHMiLCJuYW1lIiwiaGFzVm9sdW1lIiwiaGFzUmV2ZXJzYWwiLCJjbHVzdGVyIiwidHJlbmQiLCJ2b2x1bWVCdXp6Iiwic2V0dXAiLCJzdWJUeXBlIiwiZW50cnkiLCJzdG9wTG9zcyIsInRhcmdldCIsInByb2JhYmlsaXR5IiwicnIiLCJxdWFsaXR5IiwicGl2b3RMZXZlbCIsInJlYXNvbiIsImRpdmVyZ2VuY2UiLCJyZXBlYXRlZFRlc3RzIiwiYWRkaXRpb25hbFRhcmdldHMiLCJ0cmVuZERpcmVjdGlvbiIsImNvbmZpcm1hdGlvbnMiLCJyZXZlcnNhbCIsIm11bHRpcGxlVGVzdHMiLCJwdXNoIiwiZmluZFNob3J0U2V0dXBzIiwicmVzaXN0YW5jZUxldmVscyIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJnZXQiLCJSZXNwb25zZSIsInN0YXR1cyIsImxhc3RCYXIiLCJsb25nU2V0dXBzIiwic2hvcnRTZXR1cHMiLCJjaGFuZ2UiLCJ2b2x1bWVJbmNyZWFzaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/stock-data/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstock-data%2Froute&page=%2Fapi%2Fstock-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-data%2Froute.ts&appDir=%2FUsers%2Fsteffengottle%2FDesktop%2FApps%2FPivots%2Fdaerkle%2Fdaerkle-next%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsteffengottle%2FDesktop%2FApps%2FPivots%2Fdaerkle%2Fdaerkle-next&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();